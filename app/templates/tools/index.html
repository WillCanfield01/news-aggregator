{% extends "base.html" %}

{% block title %}Tools Hub{% endblock %}

{% block head %}
<link rel="stylesheet" href="{{ url_for('static', filename='tools/tools.css') }}">
<script src="{{ url_for('static', filename='tools/tools.js') }}" defer></script>
{% endblock %}

{% block content %}
<section class="tools-shell">
    <a class="tools-back" href="{{ url_for('landing') }}">← Back to Homepage</a>
    <div class="tools-hero">
        <p class="eyebrow">Tools Hub</p>
        <h1>Workflow helpers to speed up your day</h1>
        {% include "partials/_micro_tagline.html" %}
        <p class="lead">Pick a tool to improve your writing and research. New utilities will appear here as they launch.</p>
    </div>

    {% set is_plus = is_plus_user() %}
    {% if show_plus_upsell %}
    <div class="bg-white border border-slate-200 rounded-2xl p-5 shadow-sm flex flex-col gap-3 md:flex-row md:items-center md:justify-between mb-6">
        <div class="space-y-2">
            <div class="text-lg font-bold text-slate-900">Tools, but better with Plus</div>
            <ul class="text-sm text-slate-700 grid gap-1">
                <li class="flex items-center gap-2"><span class="text-blue-600">•</span> Save history</li>
                <li class="flex items-center gap-2"><span class="text-blue-600">•</span> Export CSVs and PDFs</li>
                <li class="flex items-center gap-2"><span class="text-blue-600">•</span> Multiple share links</li>
                <li class="flex items-center gap-2"><span class="text-blue-600">•</span> Ad free tools</li>
            </ul>
        </div>
        <div class="flex flex-col items-start md:items-end gap-2">
            <div class="text-base font-semibold text-slate-900">$2.99 per month</div>
            <div class="text-xs text-slate-500">Ad free. Unlimited plays. Save and export.</div>
            {% if not is_plus %}
            <a href="/plus" class="bg-blue-600 hover:bg-blue-700 text-white rounded-xl px-4 py-2 text-sm font-semibold">Unlock Plus · $2.99/mo</a>
            {% else %}
            <div class="flex items-center gap-2">
                <span class="text-xs font-semibold text-green-700 bg-green-100 px-2 py-1 rounded-md">Plus active</span>
                <a href="{{ url_for('billing.customer_portal') }}" class="border border-slate-300 text-slate-800 rounded-xl px-4 py-2 text-sm font-semibold hover:bg-slate-50">Manage billing</a>
            </div>
            {% endif %}
        </div>
    </div>
    {% endif %}

    {% if tools %}
    <div class="tools-grid" role="list" aria-label="Available tools">
        {% for tool in tools %}
        <a class="tool-card" role="listitem" href="{{ url_for('tools.tool_page', slug=tool.slug) }}">
            <div class="tool-card-body">
                <div class="tool-card-category">{{ tool.category }}</div>
                <h2 class="tool-card-title">{{ tool.title }}</h2>
                <p class="tool-card-desc">{{ tool.description }}</p>
            </div>
            <span class="tool-card-link">Open tool →</span>
        </a>
        {% endfor %}
    </div>
    {% else %}
    <div class="tools-grid" role="list" aria-label="Tools coming soon">
        <div class="tools-empty" role="listitem">
            <p class="placeholder-title">No tools are live yet</p>
            <p class="placeholder-copy">This space will house cards for each tool once they’re enabled.</p>
        </div>
    </div>
    {% endif %}
</section>
{% endblock %}
